# Minority Game Frontend

A decentralized "Minority Game" application built on the Sui blockchain, using Next.js for the frontend and Supabase for backend services (cron jobs, database).

## Project Overview

The Minority Game is a game theory scenario where players choose between two options (e.g., Option A vs Option B). The winners are those who selected the *minority* option (the option chosen by fewer people).

**Key Features:**
- **Decentralized Voting:** Votes are submitted to the Sui blockchain.
- **Privacy Preserving:** Uses Drand Time-Lock Encryption to keep votes secret until the reveal phase.
- **AI-Generated Topics:** Topics are automatically generated by AI via scheduled cron jobs.
- **Reward System:** Winners can claim rewards directly from the smart contract.

## Tech Stack

- **Frontend:** Next.js, React, TypeScript, Radix UI, Tailwind CSS
- **Blockchain Integration:** `@mysten/dapp-kit`, `@mysten/sui`, `@suiware/kit`
- **Encryption:** `tlock-js` (Drand Time-Lock Encryption)
- **Backend/Database:** Supabase (PostgreSQL, pg_cron, pg_net)

## Getting Started

### Prerequisites

- Node.js (v18 or later)
- pnpm (v9 or later)
- A Supabase project
- A Sui Wallet (e.g., Sui Wallet, Ethos Wallet)

### Environment Setup

1.  Clone the repository.
2.  Navigate to the `packages/frontend` directory.
3.  Copy `.env.example` to `.env.local` (if it doesn't exist, create one) and fill in the required environment variables:

    ```env
    NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
    NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
    NEXT_PUBLIC_PACKAGE_ID=your_sui_package_id
    ```

4.  Install dependencies:

    ```bash
    pnpm install
    ```

### Running Development Server

Run the development server:

```bash
pnpm dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

## Deployment

### Production Build

To create a production build:

```bash
pnpm build
```

To start the production server locally:

```bash
pnpm start
```

### Deploying to Vercel

The easiest way to deploy is using the [Vercel Platform](https://vercel.com).

1.  Push your code to a Git repository (GitHub, GitLab, Bitbucket).
2.  Import the project into Vercel.
3.  Configure the Environment Variables in the Vercel project settings (same as `.env.local`).
4.  Deploy.

### Deploying to Decentralized Storage

This project also supports deployment to decentralized storage solutions like Walrus and Arweave.

- **Walrus (Testnet):** `pnpm run deploy:walrus:testnet`
- **Walrus (Mainnet):** `pnpm run deploy:walrus:mainnet`
- **Arweave:** `pnpm run deploy:arweave`

## Project Structure

- `src/app`: Next.js App Router pages and layouts.
- `src/components`: Reusable UI components (MinorityGame, TopicCard, etc.).
- `src/utils`: Utility functions (Supabase client, etc.).
- `src/hooks`: Custom React hooks.
